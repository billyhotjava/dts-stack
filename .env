# ====== Base & Traefik ======
BASE_DOMAIN=dts.local
TLS_PORT=443
TRAEFIK_DASHBOARD=true
TRAEFIK_DASHBOARD_PORT=8080
TRAEFIK_METRICS_PORT=9100
TRAEFIK_ENABLE_PING=true

# ====== Build Helpers ======
IMAGE_MAVEN=maven:3.9.9-eclipse-temurin-21

# ====== Hosts ======
HOST_SSO=sso.dts.local
HOST_TRINO=trino.dts.local
HOST_API=api.dts.local
HOST_RANGER=ranger.dts.local
HOST_ADMIN_UI=admin.dts.local
HOST_PLATFORM_UI=platform.dts.local

# ====== Keycloak ======
KC_ADMIN=admin
KC_ADMIN_PWD=Devops123@
KC_HTTP_ENABLED=true
KC_HOSTNAME=sso.dts.local
KC_HOSTNAME_PORT=443
KC_HOSTNAME_URL=https://sso.dts.local
KC_HOSTNAME_ADMIN_URL=https://sso.dts.local
KC_HOSTNAME_STRICT=true
KC_HOSTNAME_STRICT_HTTPS=true
KC_DB_URL_PROPERTIES=sslmode=disable
KC_REALM=S10
OIDC_ISSUER_URI=https://sso.dts.local/realms/S10
TRUSTSTORE_PASSWORD=changeit

# ====== Postgres (mode/host filled later) ======
PG_AUTH_METHOD=scram
PG_MODE=embedded
PG_HOST=dts-pg
PG_SUPER_USER=postgres
PG_SUPER_PASSWORD=Devops123@
PG_PORT=5432

# --- Keycloak DB triplet ---
PG_DB_KEYCLOAK=dts_keycloak
PG_USER_KEYCLOAK=dts_keycloak
PG_PWD_KEYCLOAK=Devops123@

# --- dts-admin (compose 直连用这些名) ---
DTADMIN_DB_NAME=dts_admin
DTADMIN_DB_USER=dts_admin
DTADMIN_DB_PASSWORD=Devops123@
DTADMIN_API_PORT=18081

# --- dts-admin PG triplet (for dts-pg init) ---
PG_DB_DTADMIN=dts_admin
PG_USER_DTADMIN=dts_admin
PG_PWD_DTADMIN=Devops123@

# --- dts-platform triplet ---
PG_DB_DTPS=dts_platform
PG_USER_DTPS=dts_platform
PG_PWD_DTPS=Devops123@

# --- dts-common triplet ---
PG_DB_DTCOMMON=dts_common
PG_USER_DTCOMMON=dts_common
PG_PWD_DTCOMMON=Devops123@



# ====== OIDC Clients ======
OAUTH2_ADMIN_CLIENT_ID=dts-system
OAUTH2_ADMIN_CLIENT_SECRET=1TBJvacHqqlTacfvBtUnbKgtDFoHWxR2
OAUTH2_PLATFORM_CLIENT_ID=dts-system
OAUTH2_PLATFORM_CLIENT_SECRET=1TBJvacHqqlTacfvBtUnbKgtDFoHWxR2

# ====== Admin PKI ======
DTS_PKI_ENABLED=false
DTS_PKI_MODE=disabled
DTS_PKI_ALLOW_MOCK=false
DTS_PKI_ACCEPT_FORWARDED_CERT=false
DTS_PKI_CLIENT_CERT_HEADER_NAME=X-Forwarded-Tls-Client-Cert
DTS_PKI_ISSUER_CN=
DTS_PKI_API_BASE=
DTS_PKI_API_TOKEN=
DTS_PKI_API_TIMEOUT=3000
DTS_PKI_GATEWAY_HOST=
DTS_PKI_GATEWAY_PORT=0
DTS_PKI_DIGEST=SHA1
DTS_PKI_VENDOR_JAR=
DTS_ADMIN_JAVA_TOOL_OPTIONS_EXTRA=--add-exports=java.base/sun.security.x509=ALL-UNNAMED\ --add-exports=java.base/sun.security.util=ALL-UNNAMED\ --add-opens=java.base/sun.security.x509=ALL-UNNAMED\ --add-opens=java.base/sun.security.util=ALL-UNNAMED

# ====== Frontend PKI defaults ======
VITE_ADMIN_API_BASE_URL=/admin/api
VITE_ADMIN_PROXY_TARGET=
VITE_KOAL_PKI_ENDPOINTS=https://127.0.0.1:16080,http://127.0.0.1:18080

# ====== Ranger (Admin) ======
PG_DB_RANGER=dts_ranger
PG_USER_RANGER=dts_ranger
PG_PWD_RANGER=Devops123@
RANGER_ADMIN_PASSWORD=Devops123@
RANGER_TAGSYNC_PASSWORD=Devops123@
RANGER_USERSYNC_PASSWORD=Devops123@

# ====== YTS 服务数据库 ======
IAM_DB_NAME=iam
IAM_DB_USER=iam
IAM_DB_PASSWORD=Devops123@
GOVERNANCE_DB_NAME=governance
GOVERNANCE_DB_USER=governance
GOVERNANCE_DB_PASSWORD=Devops123@
EXPLORE_DB_NAME=explore
EXPLORE_DB_USER=explore
EXPLORE_DB_PASSWORD=Devops123@
LEGACY_STACK=false
IMAGE_TRAEFIK=traefik:v3.5.2
IMAGE_POSTGRES=postgres:17.6
IMAGE_KEYCLOAK=quay.io/keycloak/keycloak:26.3.4
IMAGE_TRINO=trinodb/trino:451
IMAGE_DTS_ADMIN=dts-admin:1.0.0
IMAGE_DTS_PLATFORM=dts-platform:1.0.0
IMAGE_DTS_ADMIN_WEBAPP=dts-admin-webapp:1.0.0
IMAGE_DTS_PLATFORM_WEBAPP=dts-platform-webapp:1.0.0
DEPLOY_MODE=single

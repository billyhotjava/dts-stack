# ====== Base & Traefik ======
BASE_DOMAIN=dts.local
TLS_PORT=443
TRAEFIK_DASHBOARD=true
TRAEFIK_DASHBOARD_PORT=8080
TRAEFIK_METRICS_PORT=9100
TRAEFIK_ENABLE_PING=true

# ====== Hosts ======
HOST_SSO=sso.dts.local
HOST_MINIO=minio.dts.local
HOST_TRINO=trino.dts.local
HOST_NESSIE=nessie.dts.local
HOST_AIRFLOW=airflow.dts.local
HOST_PORTAL=portal.dts.local
HOST_RANGER=ranger.dts.local

# ====== Keycloak ======
KC_ADMIN=admin
KC_ADMIN_PWD=Devops123@
KC_HTTP_ENABLED=true
KC_HOSTNAME=sso.dts.local
KC_HOSTNAME_PORT=443
KC_HOSTNAME_URL=https://sso.dts.local
KC_HOSTNAME_STRICT=true
KC_HOSTNAME_STRICT_HTTPS=true
KC_DB_URL_PROPERTIES=sslmode=disable
KC_REALM=dts-platform

# ====== Postgres (mode/host filled later) ======
PG_AUTH_METHOD=scram
PG_MODE=embedded
PG_HOST=dts-pg
PG_SUPER_USER=postgres
PG_SUPER_PASSWORD=Devops123@
PG_PORT=5432

# --- Keycloak DB triplet ---
PG_DB_KEYCLOAK=dts_keycloak
PG_USER_KEYCLOAK=dts_keycloak
PG_PWD_KEYCLOAK=Devops123@

# --- dts-admin (compose 直连用这些名) ---
DTADMIN_DB_NAME=dts_admin
DTADMIN_DB_USER=dts_admin
DTADMIN_DB_PASSWORD=Devops123@
DTADMIN_API_PORT=18081

# --- dts-admin PG triplet (for dts-pg init) ---
PG_DB_DTADMIN=dts_admin
PG_USER_DTADMIN=dts_admin
PG_PWD_DTADMIN=Devops123@

# --- dts-platform triplet ---
PG_DB_DTPS=dts_platform
PG_USER_DTPS=dts_platform
PG_PWD_DTPS=Devops123@

# --- dts-common triplet ---
PG_DB_DTCOMMON=dts_common
PG_USER_DTCOMMON=dts_common
PG_PWD_DTCOMMON=Devops123@

# --- Airflow triplet + admin/secrets ---
PG_DB_AIRFLOW=airflow
PG_USER_AIRFLOW=airflow
PG_PWD_AIRFLOW=Devops123@
AIRFLOW_ADMIN_USER=admin
AIRFLOW_ADMIN_PASSWORD=Devops123@
AIRFLOW_ADMIN_EMAIL=admin@example.com
AIRFLOW_SECRET_KEY=Devops123@
AIRFLOW_FERNET_KEY=Uy1essFcNNNttx_d7h79_WgWkHogACjEPLkwMoocIOU=
AIRFLOW_UID=50000
AIRFLOW_GID=0
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__CORE__LOAD_EXAMPLES=false
AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION=false
AIRFLOW__LOGGING__REMOTE_LOGGING=true
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow:Devops123%40@dts-pg:5432/airflow
AIRFLOW__LOGGING__REMOTE_BASE_LOG_FOLDER=s3://dts-lake/airflow/logs
AIRFLOW__LOGGING__REMOTE_LOG_CONN_ID=s3_minio
AIRFLOW__CONNECTIONS__S3_MINIO__CONN_TYPE=s3
AIRFLOW__CONNECTIONS__S3_MINIO__EXTRA={"host":"https://minio.dts.local","aws_access_key_id":"minio","aws_secret_access_key":"Devops123@","region_name":"cn-local-1","verify":false,"client_kwargs":{"endpoint_url":"https://minio.dts.local","aws_access_key_id":"minio","aws_secret_access_key":"Devops123@","region_name":"cn-local-1"}}


# ====== MinIO / S3 ======
MINIO_ROOT_USER=minio
MINIO_ROOT_PASSWORD=Devops123@
S3_BUCKET=dts-lake
S3_REGION=cn-local-1

# ====== OIDC Client for dts-admin ======
OAUTH2_CLIENT_ID=dts-admin
OAUTH2_CLIENT_SECRET=Devops123@

# ====== Ranger (Admin) ======
PG_DB_RANGER=dts_ranger
PG_USER_RANGER=dts_ranger
PG_PWD_RANGER=Devops123@
RANGER_ADMIN_PASSWORD=Devops123@
RANGER_TAGSYNC_PASSWORD=Devops123@
RANGER_USERSYNC_PASSWORD=Devops123@

# ====== YTS 服务数据库 ======
IAM_DB_NAME=iam
IAM_DB_USER=iam
IAM_DB_PASSWORD=Devops123@
GOVERNANCE_DB_NAME=governance
GOVERNANCE_DB_USER=governance
GOVERNANCE_DB_PASSWORD=Devops123@
EXPLORE_DB_NAME=explore
EXPLORE_DB_USER=explore
EXPLORE_DB_PASSWORD=Devops123@
IMAGE_TRAEFIK=traefik:v3.5.2
IMAGE_POSTGRES=postgres:17.6
IMAGE_ZOOKEEPER=bitnami/zookeeper:3.9.2
IMAGE_KAFKA=bitnami/kafka:3.7.0
IMAGE_KEYCLOAK=quay.io/keycloak/keycloak:26.3.4
RANGER_VERSION=2.7.0
IMAGE_RANGER_ADMIN=apache/ranger:${RANGER_VERSION}
IMAGE_MINIO=quay.io/minio/minio:latest
IMAGE_MINIO_MC=quay.io/minio/mc:latest
IMAGE_NESSIE=bitnami/nessie:0.104.10
IMAGE_TRINO=trinodb/trino:latest
IMAGE_DORIS_FE=apache/doris:fe-3.1.0
IMAGE_DORIS_BE=apache/doris:be-3.1.0
IMAGE_DORIS_BROKER=apache/doris:broker-3.1.0
IMAGE_FLINK=flink:scala_2.12-java21
IMAGE_SPARK=spark:4.0.0-java21
IMAGE_ELASTICSEARCH=docker.elastic.co/elasticsearch/elasticsearch:8.19.4
IMAGE_OPENMETADATA=openmetadata/server:latest
IMAGE_TEMPORAL=temporalio/auto-setup:1.26.3
IMAGE_AIRFLOW=apache/airflow:2.10.2
IMAGE_AIRBYTE_SERVER=airbyte/server:1.8.2
IMAGE_AIRBYTE_WORKER=airbyte/worker:1.8.2
IMAGE_AIRBYTE_BOOTLOADER=airbyte/bootloader:1.8.2
IMAGE_DBT=ghcr.io/dbt-labs/dbt-trino:1.9.3
IMAGE_MAVEN=maven:3.9.9-eclipse-temurin-21
IMAGE_GRAFANA=grafana/grafana:11.2.0
IMAGE_PROMETHEUS=prom/prometheus:v2.54.1
IMAGE_CADVISOR=gcr.io/cadvisor/cadvisor:v0.49.1
IMAGE_LOKI=grafana/loki:2.9.8
IMAGE_PROMTAIL=grafana/promtail:2.9.8
IMAGE_OLLAMA=ollama/ollama:latest
DEPLOY_MODE=single

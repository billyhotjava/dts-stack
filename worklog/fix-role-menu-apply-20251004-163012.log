Fix: Role → Menu bindings not effective after approval

Timestamp: 2025-10-04 16:30:12

Symptom
- After approving “绑定菜单” (PORTAL_MENU) change requests, the portal UI still shows unchanged menus.

Root cause
- The business portal (dts-platform) fetched menus from dts-admin via GET /api/menu without forwarding the current user’s roles or Authorization.
- dts-admin’s /api/menu permits unauthenticated calls; without roles/dataLevel, it returns the unfiltered tree (findTree), so menu visibility rules (portal_menu_visibility) never take effect for the portal.

Changes
1) Forward audience context (roles) from dts-platform to dts-admin:
   - File: source/dts-platform/src/main/java/com/yuzhi/dts/platform/service/menu/PortalMenuClient.java
     - Added fetchMenuTreeForAudience(roles, permissions, dataLevel) to append query parameters.
   - File: source/dts-platform/src/main/java/com/yuzhi/dts/platform/service/menu/PortalMenuService.java
     - Collect current authorities from SecurityContext and prefer fetchMenuTreeForAudience over fetchMenuTree.

Validation
- Login as a user with a specific role; bind/unbind that role to a menu → submit → approve.
- Refresh the portal: the menu tree should reflect binding changes for that user.

Notes
- This approach avoids cross-service token requirements; dts-admin normalizes roles (adds ROLE_ if missing).
- Optional enhancement: include permissions/dataLevel when available. Current patch forwards roles only.
